{"meta":{"title":"苇名一心的博客","subtitle":null,"description":"经验分享和技术交流。","author":"苇名一心","url":"https://666wxy666.github.io","root":"/"},"pages":[{"title":"404 Not Found","date":"2020-04-01T09:45:17.617Z","updated":"2020-03-25T08:57:28.904Z","comments":true,"path":"404.html","permalink":"https://666wxy666.github.io/404.html","excerpt":"","text":"404很抱歉，您访问的页面不存在可能是输入地址有误或该地址已被删除，您可以留言告诉我您要访问哪个页面找不到了，谢谢。"},{"title":"关于","date":"2020-04-01T09:45:17.617Z","updated":"2020-03-31T12:22:20.511Z","comments":true,"path":"about/index.html","permalink":"https://666wxy666.github.io/about/index.html","excerpt":"","text":"这里是我的基本信息：我的博客（Github）：苇名一心我的博客（Gitee）：苇名一心我的Github主页：666WXY666我的Gitee主页：wxy_666我的B站：在下-苇名一心我的网易云：在下-苇名一心欢迎关注我，与我联系。"},{"title":"所有分类","date":"2020-04-01T09:45:17.618Z","updated":"2020-03-22T10:40:41.483Z","comments":true,"path":"categories/index.html","permalink":"https://666wxy666.github.io/categories/index.html","excerpt":"","text":""},{"title":"","date":"2020-04-01T09:45:17.618Z","updated":"2020-03-25T07:29:48.422Z","comments":true,"path":"faqs/index.html","permalink":"https://666wxy666.github.io/faqs/index.html","excerpt":"","text":"README"},{"title":"我的朋友们","date":"2020-04-01T09:45:17.618Z","updated":"2020-03-25T08:46:28.331Z","comments":true,"path":"friends/index.html","permalink":"https://666wxy666.github.io/friends/index.html","excerpt":"这里是我的朋友和一些大佬，感兴趣的就点进去看看吧！","text":"这里是我的朋友和一些大佬，感兴趣的就点进去看看吧！想在这里展示或者有什么问题欢迎给我留言。"},{"title":"所有标签","date":"2020-04-01T09:45:17.619Z","updated":"2020-03-25T07:51:09.297Z","comments":true,"path":"tags/index.html","permalink":"https://666wxy666.github.io/tags/index.html","excerpt":"","text":""},{"title":"","date":"2020-04-01T09:45:17.618Z","updated":"2020-03-22T01:11:48.329Z","comments":true,"path":"mylist/index.html","permalink":"https://666wxy666.github.io/mylist/index.html","excerpt":"","text":""}],"posts":[{"title":"Linux上机作业1：正则表达式应用 实验报告","slug":"Linux上机作业1：正则表达式应用 实验报告","date":"2020-03-31T12:46:39.215Z","updated":"2020-04-01T05:18:30.581Z","comments":true,"path":"2020/03/31/Linux上机作业1：正则表达式应用 实验报告/","link":"","permalink":"https://666wxy666.github.io/2020/03/31/Linux%E4%B8%8A%E6%9C%BA%E4%BD%9C%E4%B8%9A1%EF%BC%9A%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%BA%94%E7%94%A8%20%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/","excerpt":"本文是关于Linux中的文本处理三剑客（grep，sed，awk），以及正则表达式应用的一个样例，获取北京某时刻PM2.5的数据，然后进行处理，输出到csv文件中，并画图表展示。","text":"本文是关于Linux中的文本处理三剑客（grep，sed，awk），以及正则表达式应用的一个样例，获取北京某时刻PM2.5的数据，然后进行处理，输出到csv文件中，并画图表展示。Linux上机作业1：正则表达式应用 实验报告一、题目要求：​ 从因特网上搜索 Web 页，用 wget 获取网页，处理网页 html 文本数据，从中提取出当前时间点北京各监测站的 PM2.5 浓度，输出如下 CSV 格式数据：2020 03 09 13:00:00, 海淀区万柳 ,732020 03 09 13:00:00, 昌平镇 ,672020 03 09 13:00:00, 奥体中心 ,662020 03 09 13:00:00, 海淀区万柳 ,732020 03 09 13:00:00, 昌平镇 ,732020 03 09 13:00:00, 奥体中心 ,75​ 撰写实验报告，要求：写出对数据的分析和处理思路，列出各个处理步骤并给出解释。二、实验步骤：从因特网上搜索 Web 页，找到与含有北京各监测站的 PM2.5 浓度的网站，我找到了绿色呼吸网（http://www.pm25.com/city/beijing.html），网站如下：使用Xshell登录到Ubuntu服务器： 使用wget命令获取该网页：1wget http://www.pm25.com/city/beijing.html使用cat命令查看该网页的内容：1cat beijing.html | more我们关注的内容：​ ①数据更新的时间：​ ②各监测点PM2.5浓度数据：发现时间的地方有个“更新时间：”，监测点名称的地方都有“pjadt_location”，而PM2.5浓度的地方都有“pjadt_pm25”。根据这个特性，先使用awk命令将需要的行保留下来。下面先进行编写1.awk：1vim 1.awk运行以下命令，对所需行进行过滤：1cat beijing.html | awk -f 1.awk | more发现除了我们想要的行还多出了这几行：经过观察，发现“PM2.5”浓度这一行与我们所需的行的区别是，我们所需的行有μg，而“PM2.5”浓度这一行没有：我们重新对“1.awk”进行编辑，直接将“监测站点”这一行排除，并且对“PM2.5”浓度这一行采用额外的过滤规则:重新运行以下命令，对所需行进行过滤：1cat beijing.html | awk -f 1.awk | more发现已经筛选出了所需要的行。现在再利用sed命令将html标签”&lt;&gt;“中的内容和“更新时间：”这个无用的信息删除：1cat beijing.html | awk -f 1.awk | sed -e 's/&lt;[^&lt;&gt;]*&gt;//g' -e 's/更新时间：//g' | more发现已经只剩余我们想要的数据。但是这些数据不在同一行，且没有明显特征，无法进行awk命令，因此先使用tr命令将这些行合并为一行，以空格分隔：1cat beijing.html | awk -f 1.awk | sed -e 's/&lt;[^&lt;&gt;]*&gt;//g' -e 's/更新时间：//g' | tr '\\n' ' ' | more最后利用awk命令将所需内容规格化输出即可，先编辑“2.awk”：1vim 2.awk利用for循环输出，NF为列数，刚好循环$$(NF-2)/4$$次，第一个%s为日期，第二个%s为时间，第三个%s为监测点名称，第四个%s为PM2.5浓度，再运行以下awk命令，即可得到格式化的输出：1cat beijing.html | awk -f 1.awk | sed -e 's/&lt;[^&lt;&gt;]*&gt;//g' -e 's/更新时间：//g' | tr '\\n' ' ' | awk -f 2.awk | more发现输出已经符合题目要求。将结果重定向到文件“beijing.csv”：12cat beijing.html | awk -f 1.awk | sed -e 's/&lt;[^&lt;&gt;]*&gt;//g' -e 's/更新时间：//g' | tr '\\n' ' ' | awk -f 2.awk &gt; beijing.csvvim beijing.csv 将beijing.csv发送到电脑，并将编码转为ANSI：由于不同时间的数据有所不同，因此我的过滤语句考虑了不同时间点的情况（北京一共有12个监测点，有时有的监测点没有数据，因此是只有11个监测点的数据），直接运行以下命令就可以直接将数据导出为beijing.csv，以下为另一时间点的数据情况：12wget http://www.pm25.com/city/beijing.htmlcat beijing.html | awk -f 1.awk | sed -e 's/&lt;[^&lt;&gt;]*&gt;//g' -e 's/更新时间：//g' | tr '\\n' ' ' | awk -f 2.awk &gt; beijing.csv三、实验总结到此实验结束，本博客仅用于纪录本次linux实验用，转载请注明出处。希望对你的linux有所帮助。","categories":[{"name":"Linux","slug":"Linux","permalink":"https://666wxy666.github.io/categories/Linux/"},{"name":"上机实验","slug":"Linux/上机实验","permalink":"https://666wxy666.github.io/categories/Linux/%E4%B8%8A%E6%9C%BA%E5%AE%9E%E9%AA%8C/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://666wxy666.github.io/tags/Linux/"},{"name":"实验","slug":"实验","permalink":"https://666wxy666.github.io/tags/%E5%AE%9E%E9%AA%8C/"},{"name":"正则表达式","slug":"正则表达式","permalink":"https://666wxy666.github.io/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"}]},{"title":"Hello Blog","slug":"我的第一篇博客","date":"2020-03-19T03:08:51.637Z","updated":"2020-03-31T12:21:28.836Z","comments":true,"path":"2020/03/19/我的第一篇博客/","link":"","permalink":"https://666wxy666.github.io/2020/03/19/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/","excerpt":"HELLO BLOG欢迎来到我的博客，这是我的第一篇博客测试文章。","text":"HELLO BLOG欢迎来到我的博客，这是我的第一篇博客测试文章。如果有什么问题，欢迎到我的Github提问我。","categories":[{"name":"其他","slug":"其他","permalink":"https://666wxy666.github.io/categories/%E5%85%B6%E4%BB%96/"}],"tags":[{"name":"first","slug":"first","permalink":"https://666wxy666.github.io/tags/first/"}]}],"categories":[{"name":"Linux","slug":"Linux","permalink":"https://666wxy666.github.io/categories/Linux/"},{"name":"上机实验","slug":"Linux/上机实验","permalink":"https://666wxy666.github.io/categories/Linux/%E4%B8%8A%E6%9C%BA%E5%AE%9E%E9%AA%8C/"},{"name":"其他","slug":"其他","permalink":"https://666wxy666.github.io/categories/%E5%85%B6%E4%BB%96/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://666wxy666.github.io/tags/Linux/"},{"name":"实验","slug":"实验","permalink":"https://666wxy666.github.io/tags/%E5%AE%9E%E9%AA%8C/"},{"name":"正则表达式","slug":"正则表达式","permalink":"https://666wxy666.github.io/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"name":"first","slug":"first","permalink":"https://666wxy666.github.io/tags/first/"}]}