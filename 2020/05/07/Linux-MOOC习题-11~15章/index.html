<!DOCTYPE html><html><head hexo-theme="https://volantis.js.org/#3.0-beta1"><meta charset="utf-8"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>Linux MOOC习题 11~15章 - 苇名一心的博客</title><meta name="keywords" content="Linux,习题,易错点,网课,MOOC"><meta name="description" content="自己随便整理了一下在学习Linux网课时遇到的一些习题，易错点之类的，接上文Linux MOOC习题 6~10章。"><link rel="alternate" href="/atom.xml" title="苇名一心的博客"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css"><link rel="shortcut icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/favicon/favicon.ico"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/666WXY666/cdn@8.9/css/style.css"><script>setTimeout(function() {
	  let script = document.createElement('script');
	  script.src = "https://www.googletagmanager.com/gtag/js?id=UA-162450234-2";
	  script.defer=true;
	  document.body.appendChild(script);
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-162450234-2');
	}, 5000);</script><script>var _hmt=_hmt||[];setTimeout(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?93c49980dcbfb8920e167f85129d6917",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},5e3)</script></head><body><div class="cover-wrapper"><cover class="cover post" style="display:none"><div class="cover-body"><div class="a"><p class="title">苇名一心的博客</p><div id="binft"></div><script>var binft=function(r){var l=["「且随疾风前行,身后亦需留心」","「Follow the wind, but watch your back」","「死亡如风，常伴吾身」","「Death is like the wind, always by my side」","「长路漫漫，唯剑作伴」","「A sword's poor company for a long road」","「吾虽浪迹天涯，却未迷失本心」","「A wanderer isn't always lost」","「吾之初心，永世不忘」","「I will not forget who I am」","「树叶的一生，只是为了归根吧？」","「Is a leaf's only purpose to fall?」","「还是别出招了，反正是我赢」","「Don't start what I'll finish」","「一剑，一念」","「One blade, one purpose」"].map(function(t){return t+""}),n=["rgb(110,64,170)","rgb(150,61,179)","rgb(191,60,175)","rgb(228,65,157)","rgb(254,75,131)","rgb(255,94,99)","rgb(255,120,71)","rgb(251,150,51)","rgb(226,183,47)","rgb(198,214,60)","rgb(175,240,91)","rgb(127,246,88)","rgb(82,246,103)","rgb(48,239,130)","rgb(29,223,163)","rgb(26,199,194)","rgb(35,171,216)","rgb(54,140,225)","rgb(76,110,219)","rgb(96,84,200)"],i={text:"",prefixP:-5,skillI:0,skillP:0,direction:"forward",delay:2,step:1};!function t(){var e=l[i.skillI];i.step?i.step--:(i.step=1,i.prefixP<"".length?(0<=i.prefixP&&(i.text+=""[i.prefixP]),i.prefixP++):"forward"===i.direction?i.skillP<e.length?(i.text+=e[i.skillP],i.skillP++):i.delay?i.delay--:(i.direction="backward",i.delay=2):0<i.skillP?(i.text=i.text.slice(0,-1),i.skillP--):(i.skillI=(i.skillI+1)%l.length,i.direction="forward")),r.textContent=i.text,r.appendChild(function(t){for(var e=document.createDocumentFragment(),r=0;r<t;r++){var l=document.createElement("span");l.textContent=String.fromCharCode(94*Math.random()+33),l.style.color=n[Math.floor(Math.random()*n.length)],e.appendChild(l)}return e}(i.prefixP<"".length?Math.min(5,5+i.prefixP):Math.min(5,e.length-i.skillP))),setTimeout(t,75)}()};binft(document.getElementById("binft"))</script></div><div class="b"><div class="m_search"><form name="searchform" class="form u-search-form"><input type="text" class="input u-search-input" placeholder> <i class="icon fas fa-search fa-fw"></i></form></div><div class="menu navigation"><ul class="cover-list-h"><li><a class="nav home" href="/" id="home"><i class="fas fa-rss fa-fw"></i>博客</a></li><li><a class="nav home" href="/shuoshuo/" id="shuoshuo"><i class="fas fa-comments fa-fw"></i>说说</a></li><li><a class="nav home" href="/categories/" id="categories"><i class="fas fa-folder-open fa-fw"></i>分类</a></li><li><a class="nav home" href="/tags/" id="tags"><i class="fas fa-tags fa-fw"></i>标签</a></li><li><a class="nav home" href="/archives/" id="archives"><i class="fas fa-archive fa-fw"></i>归档</a></li><li><a class="nav home" href="/friends/" id="friends"><i class="fas fa-link fa-fw"></i>友链</a></li><li><a class="nav home" href="/about/" id="about"><i class="fas fa-info-circle fa-fw"></i>关于</a></li></ul></div></div></div><div class="scroll-down" style="display:none"><i class="fa fa-chevron-down scroll-down-effects"></i></div></cover><header class="l_header shadow blur"><div class="container"><div class="wrapper"><div class="nav-sub"><p class="title"></p><ul class="switcher nav-list-h"><li><a class="s-comment fas fa-comments fa-fw" target="_self" href="javascript:void(0)"></a></li><li><a class="s-toc fas fa-list fa-fw" target="_self" href="javascript:void(0)"></a></li></ul></div><div class="nav-main"><a class="title flat-box" target="_self" href="/"><img class="logo" src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://cdn.jsdelivr.net/gh/666WXY666/cdn@master/img/logo/logo-round.png"></a><div class="menu navigation"><ul class="nav-list-h"><li><a class="flat-box" href="/" id="home"><i class="fas fa-rss fa-fw"></i>博客</a></li><li><a class="flat-box" href="/shuoshuo/" id="shuoshuo"><i class="fas fa-comments fa-fw"></i>说说</a></li><li><a class="flat-box" href="/categories/" id="categories"><i class="fas fa-folder-open fa-fw"></i>分类</a></li><li><a class="flat-box" href="/tags/" id="tags"><i class="fas fa-tags fa-fw"></i>标签</a></li><li><a class="flat-box" href="/archives/" id="archives"><i class="fas fa-archive fa-fw"></i>归档</a></li><li><a class="flat-box" href="/friends/" id="friends"><i class="fas fa-link fa-fw"></i>友链</a></li><li><a class="flat-box" href="/about/" id="about"><i class="fas fa-info-circle fa-fw"></i>关于</a></li><li><a class="flat-box"><i class="fas fa-ellipsis-v fa-fw"></i>更多</a><ul class="list-v"><li><a class="flat-box">有疑问？</a><ul class="list-v"><li><a class="flat-box" href="/faqs/" id="faqs"><i class="fas fa-question-circle fa-fw"></i>FAQ</a></li><li><a class="flat-box" href="https://github.com/666WXY666/" id="https:githubcom666WXY666" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i>我的Github主页</a></li><li><a class="flat-box" href="https://gitee.com/wxy_666" id="https:giteecomwxy_666" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-git-alt fa-fw"></i>我的Gitee主页</a></li><li><a class="flat-box" href="https://github.com/666WXY666/666WXY666.github.io/" id="https:githubcom666WXY666666WXY666githubio" rel="external nofollow noopener noreferrer" target="_blank"><i class="fas fa-code fa-fw"></i>本站源码</a></li><li><a class="flat-box" href="https://github.com/666WXY666/666WXY666.github.io/issues/" id="https:githubcom666WXY666666WXY666githubioissues" rel="external nofollow noopener noreferrer" target="_blank"><i class="fas fa-question fa-fw"></i>向我提问</a></li></ul></li><hr><li><a class="flat-box"><i class="fas fa-compact-disc fa-fw music fa-fw music"></i>背景音乐</a><ul class="list-v"><li><div class="aplayer-container"><meting-js theme="#1BCDFC" autoplay volume="0.7" loop order="list" fixed="false" list-max-height="340px" server="tencent" type="playlist" id="1930654125" list-folded="true"></meting-js></div></li></ul></li><li></li></ul></li></ul></div><div class="m_search"><form name="searchform" class="form u-search-form"><i class="icon fas fa-search fa-fw"></i> <input type="text" class="input u-search-input" placeholder="Search..."></form></div><ul class="switcher nav-list-h"><li><a class="s-search fas fa-search fa-fw" target="_self" href="javascript:void(0)"></a></li><li><a class="s-menu fas fa-bars fa-fw" target="_self" href="javascript:void(0)"></a><ul class="menu-phone list-v navigation white-box"><li><a class="flat-box" href="/" id="home"><i class="fas fa-rss fa-fw"></i>博客</a></li><li><a class="flat-box" href="/shuoshuo/" id="shuoshuo"><i class="fas fa-comments fa-fw"></i>说说</a></li><li><a class="flat-box" href="/categories/" id="categories"><i class="fas fa-folder-open fa-fw"></i>分类</a></li><li><a class="flat-box" href="/tags/" id="tags"><i class="fas fa-tags fa-fw"></i>标签</a></li><li><a class="flat-box" href="/archives/" id="archives"><i class="fas fa-archive fa-fw"></i>归档</a></li><li><a class="flat-box" href="/friends/" id="friends"><i class="fas fa-link fa-fw"></i>友链</a></li><li><a class="flat-box" href="/about/" id="about"><i class="fas fa-info-circle fa-fw"></i>关于</a></li><li><a class="flat-box"><i class="fas fa-ellipsis-v fa-fw"></i>更多</a><ul class="list-v"><li><a class="flat-box">有疑问？</a><ul class="list-v"><li><a class="flat-box" href="/faqs/" id="faqs"><i class="fas fa-question-circle fa-fw"></i>FAQ</a></li><li><a class="flat-box" href="https://github.com/666WXY666/" id="https:githubcom666WXY666" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i>我的Github主页</a></li><li><a class="flat-box" href="https://gitee.com/wxy_666" id="https:giteecomwxy_666" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-git-alt fa-fw"></i>我的Gitee主页</a></li><li><a class="flat-box" href="https://github.com/666WXY666/666WXY666.github.io/" id="https:githubcom666WXY666666WXY666githubio" rel="external nofollow noopener noreferrer" target="_blank"><i class="fas fa-code fa-fw"></i>本站源码</a></li><li><a class="flat-box" href="https://github.com/666WXY666/666WXY666.github.io/issues/" id="https:githubcom666WXY666666WXY666githubioissues" rel="external nofollow noopener noreferrer" target="_blank"><i class="fas fa-question fa-fw"></i>向我提问</a></li></ul></li><hr></ul></li></ul></li></ul></div></div></div></header></div><div class="l_body nocover"><div class="body-wrapper" id="pjax-container"><div id="pjax-data" style="display:none"><div id="pjax-ispage">true</div><div id="pjax-pageTitle">Linux MOOC习题 11~15章</div><div id="pjax-enable-cover">true</div><div id="valine-path">none</div><div id="valine-placeholder">none</div></div><script>document.getElementsByClassName("cover")[0].style.display="none",document.getElementsByClassName("l_body")[0].classList.add("nocover"),document.getElementsByClassName("l_header","cover-wrapper")[0].classList.add("show")</script><div class="l_main"><article id="post" class="post white-box reveal shadow article-type-post" itemscope itemprop="blogPost"><section class="meta"><div class="meta" id="header-meta"><h1 class="title"><a href="/2020/05/07/Linux-MOOC%E4%B9%A0%E9%A2%98-11~15%E7%AB%A0/">Linux MOOC习题 11~15章</a></h1><div class="new-meta-box"><div class="new-meta-item author"><a href="https://666wxy666.github.io/" rel="nofollow"><img no-lazy src="https://cdn.jsdelivr.net/gh/666WXY666/cdn@master/img/avatar/avatar.jpg"><p>苇名一心</p></a></div><div class="new-meta-item category"><a href="/categories/Linux/%E4%B9%A0%E9%A2%98/" rel="nofollow"><i class="fas fa-folder-open fa-fw" aria-hidden="true"></i><p>Linux/习题</p></a></div><div class="new-meta-item date"><a class="notlink"><i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i><p>发布于：2020年5月7日</p></a></div><div class="new-meta-item wordcount"><a class="notlink"><i class="fas fa-keyboard fa-fw" aria-hidden="true"></i><p>字数：3.2k字</p></a></div><div class="new-meta-item readtime"><a class="notlink"><i class="fas fa-hourglass-half fa-fw" aria-hidden="true"></i><p>时长：12分钟</p></a></div><div class="new-meta-item browse valine"><a class="notlink"><i class="fas fa-eye fa-fw" aria-hidden="true"></i> <span id="/2020/05/07/Linux-MOOC%E4%B9%A0%E9%A2%98-11~15%E7%AB%A0/" class="leancloud_visitors" data-flag-title="Linux MOOC习题 11~15章"><p><span class="leancloud-visitors-count"></span></p></span></a></div></div><hr></div></section><section class="article typo"><div class="article-entry" itemprop="articleBody"><p>自己随便整理了一下在学习Linux网课时遇到的一些习题，易错点之类的，接上文<a href="/2020/04/29/Linux-MOOC习题-6~10章/">Linux MOOC习题 6~10章</a>。</p><a id="more"></a><h2 id="十一、进程的基本概念"><a href="#十一、进程的基本概念" class="headerlink" title="十一、进程的基本概念"></a>十一、进程的基本概念</h2><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200507102145.jpg" alt="2020-05-07_095819" style="zoom:80%"> <img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200507102202.jpg" alt="2020-05-07_095837" style="zoom:80%"><blockquote><ul><li><code>int a[N] = { 2 };</code>的意思是把<code>a[N]</code>第一个元素赋值为2，其他的赋值为0，也就是说，所有的元素都被赋值了，因此占空间很大。</li><li><code>int a[N];</code>的<code>a[N]</code>没有赋初值，只需记录a的长度即可，占用空间很小。</li></ul><p>从图中（test是第一种赋值的，test2是第二种不赋值的）也可以看出，差别巨大：</p><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200507103601.jpg" alt="2020-05-07_103457" style="zoom:80%"></blockquote><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200507102210.jpg" alt="2020-05-07_100015" style="zoom:80%"><blockquote><p>忙等待主要是占用CPU，和内存没啥关系。</p></blockquote><h2 id="十二、进程的创建和重定向"><a href="#十二、进程的创建和重定向" class="headerlink" title="十二、进程的创建和重定向"></a>十二、进程的创建和重定向</h2><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200511192429.jpg" alt="2020-05-11_192030" style="zoom:80%"> <img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200511192503.jpg" alt="2020-05-11_192056" style="zoom:80%"> <img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200511192519.jpg" alt="2020-05-11_192111" style="zoom:80%"> <img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200511192659.jpg" alt="2020-05-11_192207" style="zoom:80%"><blockquote><p>注意，这个程序是持续不间断运行的，也就是说，不能停止后再重启，但是重定向是只能在程序运行的时候进行的操作，程序一旦开始运行就没办法重定向了，因此不能实现。并且重定向是“当前进程”做的，不是父进程做的。但是如果foo可以终止后重启，确实可以用shell脚本等程序实现上述功能。修改foo程序也可以实现上述功能。</p></blockquote><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200511192733.jpg" alt="2020-05-11_192222" style="zoom:80%"><blockquote><p>执行的大致流程，只是各进程执行情况，并不代表真实执行顺序：</p><p><strong><em>父进程（0）：</em></strong></p><ul><li><p>输出：<code>i=0</code></p></li><li><p>父进程0产生第一个子进程0-1</p><p><strong><em>0-1：</em></strong></p><ul><li><p>到下一轮for循环，i=1</p></li><li><p>输出：<code>i=1</code></p></li><li><p>子进程0-1产生第一个子进程0-1-1</p><p><strong><em>0-1-1：</em></strong></p><ul><li><p>到下一轮for循环，i=2</p></li><li><p>输出：<code>i=2</code></p></li><li><p>进程0-1-1产生第一个子进程0-1-1-1</p><p><strong><em>0-1-1-1：</em></strong></p><ul><li><p>到下一轮for循环，i=3</p></li><li><p>输出：<code>i=3</code></p></li><li><p>进程0-1-1-1产生第一个子进程0-1-1-1-1</p><p><strong><em>0-1-1-1-1：</em></strong></p><ul><li>到下一轮for循环，i=4</li><li>0-1-1-1-1结束</li></ul></li><li><p>到下一轮for循环，i=4</p></li><li><p>0-1-1-1结束</p></li></ul></li><li><p>到下一轮for循环，i=3</p></li><li><p>输出：<code>i=3</code></p></li><li><p>进程0-1-1产生第二个子进程0-1-1-2</p><p><strong><em>0-1-1-2：</em></strong></p><ul><li>到下一轮for循环，i=4</li><li>0-1-1-2结束</li></ul></li><li><p>到下一轮for循环，i=4</p></li><li><p>0-1-1结束</p></li></ul></li><li><p>到下一轮for循环，i=2</p></li><li><p>输出：<code>i=2</code></p></li><li><p>子进程0-1产生第二个子进程0-1-2</p><p><strong><em>0-1-2：</em></strong></p><ul><li><p>到下一轮for循环，i=3</p></li><li><p>输出：<code>i=3</code></p></li><li><p>进程0-1-2产生第一个子进程0-1-2-1</p><p><strong><em>0-1-2-1：</em></strong></p><ul><li>到下一轮for循环，i=4</li><li>0-1-2-1结束</li></ul></li><li><p>到下一轮for循环，i=4</p></li><li><p>0-1-2结束</p></li></ul></li><li><p>到下一轮for循环，i=3</p></li><li><p>输出：<code>i=3</code></p></li><li><p>子进程0-1产生第三个子进程0-1-3</p><p><strong><em>0-1-3：</em></strong></p><ul><li>到下一轮for循环，i=4</li><li>0-1-3结束</li></ul></li><li><p>到下一轮for循环，i=4</p></li><li><p>0-1结束</p></li></ul></li><li><p>到下一轮for循环，i=1</p></li><li><p>输出：<code>i=1</code></p></li><li><p>父进程0产生第二个子进程0-2</p><p><strong><em>0-2：</em></strong></p><ul><li><p>到下一轮for循环，i=2</p></li><li><p>输出：<code>i=2</code></p></li><li><p>进程0-2产生第一个子进程0-2-1</p><p><strong><em>0-2-1：</em></strong></p><ul><li><p>到下一轮for循环，i=3</p></li><li><p>输出：<code>i=3</code></p></li><li><p>进程0-2-1产生第一个子进程0-2-1-1</p><p><strong><em>0-2-1-1：</em></strong></p><ul><li>到下一轮for循环，i=4</li><li>0-2-1-1结束</li></ul></li><li><p>到下一轮for循环，i=4</p></li><li><p>0-2-1结束</p></li></ul></li><li><p>到下一轮for循环，i=3</p></li><li><p>输出：<code>i=3</code></p></li><li><p>进程0-2产生第二个子进程0-2-2</p><p><strong><em>0-2-2：</em></strong></p><ul><li>到下一轮for循环，i=4</li><li>0-2-2结束</li></ul></li><li><p>到下一轮for循环，i=4</p></li><li><p>0-2结束</p></li></ul></li><li><p>到下一轮for循环，i=2</p></li><li><p>输出：<code>i=2</code></p></li><li><p>父进程0产生第三个子进程0-3</p><p><strong><em>0-3：</em></strong></p><ul><li><p>到下一轮for循环，i=3</p></li><li><p>输出：<code>i=3</code></p></li><li><p>进程0-3产生第一个子进程0-3-1</p><p><strong><em>0-3-1：</em></strong></p><ul><li>到下一轮for循环，i=4</li><li>0-3-1结束</li></ul></li><li><p>到下一轮for循环，i=4</p></li><li><p>0-3结束</p></li></ul></li><li><p>到下一轮for循环，i=3</p></li><li><p>输出：<code>i=3</code></p></li><li><p>父进程0产生第四个子进程0-4</p><p><strong><em>0-4：</em></strong></p><ul><li>到下一轮for循环，i=4</li><li>0-4结束</li></ul></li><li><p>到下一轮for循环，i=4</p></li><li><p>父进程0结束</p></li></ul><p>共15行输出，分别为：</p><table><thead><tr><th align="center">输出</th><th align="center">次数</th></tr></thead><tbody><tr><td align="center">i=0</td><td align="center">$2^0=1$</td></tr><tr><td align="center">i=1</td><td align="center">$2^1=2$</td></tr><tr><td align="center">i=2</td><td align="center">$2^2=4$</td></tr><tr><td align="center">i=3</td><td align="center">$2^3=8$</td></tr></tbody></table><p>在linux下的实际执行情况：</p><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200514110539.png" alt="img" style="zoom:80%"><p>可以发现确实是15行，但是却有两个问题：</p><ol><li><p>为什么最后产生了一个空行，在等待用户输入？</p><p>shell提示符其实是主进程死了以后，shell给出来的。因为实际运行结果是子进程死得晚，父进程死的早。其实，你不按回车，大家也都运行结束了，只是shell提示符出现得比某个子进程早。你看起来这个效果，其实这个提示符已经在上面显示了，那个时候主进程结束，shell给出了提示符，但此时子进程还没有结束，因此会继续输出，但这个时候shell已经进入了等待下一个命令的状态了，就像这样：</p></li></ol><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200514111514.png" alt="QQ图片20200514111508" style="zoom:80%"><p>​ 可以发现，echo命令已经可以被shell接受了。</p><ol start="2"><li><p>程序为什么分两部分输出了？</p><p>这是因为后面的子进程因为他的父进程先死掉了，变成了孤儿进程，打印出他们的父进程pid，发现是1，也证明了这一点：</p></li></ol><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200514110755.png" alt="QQ图片20200514110749" style="zoom:80%"><p>因此我们可以对程序进行如下修改：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Copyright: Copyright (c) 2020 苇名一心 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> * @Description: </span></span><br><span class="line"><span class="comment"> * @Version: </span></span><br><span class="line"><span class="comment"> * @Author: 苇名一心</span></span><br><span class="line"><span class="comment"> * @Date: 2020-05-11 20:02:00</span></span><br><span class="line"><span class="comment"> * @LastEditors: 苇名一心</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-05-14 11:18:43</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/wait.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,status,wait_pid;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"i=%d,pid=%d,ppid=%d\n"</span>, i,getpid(),getppid());</span><br><span class="line">        <span class="keyword">if</span>(fork()&gt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            wait_pid = wait(&amp;status);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对每个fork加上wait语句，就可以完全按照上面的进程树执行顺序执行，且不会有任何问题了。</p><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200514112003.png" alt="QQ图片20200514111958" style="zoom:80%"><p>PS：对于wait，如果其所有子进程都还在运行，则阻塞；如果是一部分子进程终止，而另一部分还在运行，那么父进程还会阻塞吗？答案是不会，只要有一个进程终止，wait就会返回。也就是说只要wait接收到一个SIGCHLD信号，wait()就会返回。对于两个或多个子进程的情况，需要调用wait两次或多次。说白了在每一个fork后面的父进程分支中都要有一个wait与之对应。与wait相关的详细知识请参照这位兄弟的博客：<a href="https://www.cnblogs.com/black-mamba/p/6886434.html" target="_blank" rel="external nofollow noopener noreferrer">wait()函数的详细分析</a>。</p></blockquote><h2 id="十三、重定向和管道，信号"><a href="#十三、重定向和管道，信号" class="headerlink" title="十三、重定向和管道，信号"></a>十三、重定向和管道，信号</h2><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200521095329.jpg" alt="2020-05-21_094112" style="zoom:80%"><blockquote><p>xsh2.c是一个简易的模拟shell程序。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Copyright: Copyright (c) 2020 苇名一心 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> * @Description: </span></span><br><span class="line"><span class="comment"> * @Version: </span></span><br><span class="line"><span class="comment"> * @Author: 苇名一心</span></span><br><span class="line"><span class="comment"> * @Date: 2020-05-21 09:44:26</span></span><br><span class="line"><span class="comment"> * @LastEditors: 苇名一心</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-05-21 09:51:41</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/wait.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">256</span>], *argv1[<span class="number">256</span>], **p, *cmd2, *argv2[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">int</span> sv, fd[<span class="number">2</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (;;)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"=&gt; "</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (fgets(buf, <span class="keyword">sizeof</span>(buf), <span class="built_in">stdin</span>) == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ((cmd2 = <span class="built_in">strstr</span>(buf, <span class="string">"|"</span>)) == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        *cmd2++ = <span class="string">'\0'</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (p = &amp;argv1[<span class="number">0</span>], *p = strtok(buf, <span class="string">" \t\n"</span>); *p != <span class="literal">NULL</span>; *++p = strtok(<span class="literal">NULL</span>, <span class="string">" \t\n"</span>))</span><br><span class="line">            ;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (p = &amp;argv2[<span class="number">0</span>], *p = strtok(cmd2, <span class="string">" \t\n"</span>); *p != <span class="literal">NULL</span>; *++p = strtok(<span class="literal">NULL</span>, <span class="string">" \t\n"</span>))</span><br><span class="line">            ;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (argv1[<span class="number">0</span>] == <span class="literal">NULL</span> || argv2[<span class="number">0</span>] == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        pipe(fd);</span><br><span class="line">        <span class="keyword">if</span> (fork() == <span class="number">0</span>)<span class="comment">// | 左边的写端进程</span></span><br><span class="line">        &#123;</span><br><span class="line">            dup2(fd[<span class="number">1</span>], <span class="number">1</span>);</span><br><span class="line">            <span class="built_in">close</span>(fd[<span class="number">1</span>]);</span><br><span class="line">            <span class="built_in">close</span>(fd[<span class="number">0</span>]);</span><br><span class="line">            execvp(argv1[<span class="number">0</span>], argv1);</span><br><span class="line">            <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"** bad command 1: %m\n"</span>);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (fork() == <span class="number">0</span>)<span class="comment">// | 右边的读端进程</span></span><br><span class="line">        &#123;</span><br><span class="line">            dup2(fd[<span class="number">0</span>], <span class="number">0</span>);</span><br><span class="line">            <span class="built_in">close</span>(fd[<span class="number">0</span>]);</span><br><span class="line">            <span class="built_in">close</span>(fd[<span class="number">1</span>]);<span class="comment">// 和第二题的类似，也不能省略</span></span><br><span class="line">            execvp(argv2[<span class="number">0</span>], argv2);</span><br><span class="line">            <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"** bad command 2: %m\n"</span>);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">close</span>(fd[<span class="number">0</span>]);<span class="comment">// 第一题要省略的操作</span></span><br><span class="line">        <span class="built_in">close</span>(fd[<span class="number">1</span>]);<span class="comment">// 第二题要省略的操作</span></span><br><span class="line">        wait(&amp;sv);</span><br><span class="line">        wait(&amp;sv);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>如果省略了这一条，对程序执行是没有什么影响的，但是循环多次以后，文件描述符一直不会被回收，导致资源耗尽，程序无法正常运行。</li><li>如果省略了这一条，就会产生重大问题。在写端进程写入结束后正常退出，读端在读取管道时，因为有个写入端一直没有关闭，导致读端的管道一直收不到结束信号，一直在等待读取，导致了死锁，读端程序不能正常结束。</li></ol></blockquote><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200521100519.jpg" alt="2020-05-21_094136" style="zoom:80%"><blockquote><p>goto只能在函数内跳转，全局跳转则可以跳转到保存的程序运行状态（包括堆栈等），就可以理解为玩游戏的SavePoint。但是如果你没保存，那就没法跳转，因此全局跳转只能跳转到执行过的位置。但是这个题目是有点问题的，goto语句也可以向前和向后跳转，因此此题可以忽略。</p></blockquote><h2 id="十四、进程间协作，Socket概述"><a href="#十四、进程间协作，Socket概述" class="headerlink" title="十四、进程间协作，Socket概述"></a>十四、进程间协作，Socket概述</h2><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200529100058.jpg" alt="2020-05-29_094202" style="zoom:80%"><blockquote><p>也就是说，<code>mmap()</code>需要一个已经打开的文件的文件描述符，当然需要<code>open()</code>打开文件，至于为什么需要，解析说的很明白。</p></blockquote><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200529100352.jpg" alt="2020-05-29_094455" style="zoom:80%"><blockquote><p>如果你打开的文件不关闭，你的程序一直执行，一直打开文件，打开的太多就会导致文件描述符资源耗尽，无法打开文件，但是当你程序退出时（正常退出或者异常终止），操作系统都会自动检测你已经打开的文件，自行关闭应该关闭的文件，因此也能正常持久化到磁盘文件。</p></blockquote><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200529100636.jpg" alt="2020-05-29_094519" style="zoom:80%"><blockquote><p>咨询式锁定是很关键的，也就是你不自己调用<code>fcntl()</code>，你是不会被阻塞的，也就是说Linux给你提供了互斥访问的途径，你自己不用或者使用不当，还是会导致出现问题，这也是Linux“策略和机制相分离”的设计方法。它是一个重要的设计思路，当系统不能大包大揽时，系统提供“机制”，把“策略”留给程序员，简化了操作系统的设计，程序员正确操作，应该完成的功能也都能实现。这是一个典型的合理的“甩锅”行为。因特网和Linux设计上都遵循了这样的理念。SUID，bash中的条件判断，四则运算，都是相同的理念，它们简化了自己，仅提供“机制”，把“策略”留给应用程序，不失必备功能。C语言也一样，printf在C语言里也会是个函数，与语言本身无关，C语言自己设计得很简单，以至于常用C语言的程序员，不需要查阅任何手册，都能把语法记下来。C++，你试试？</p></blockquote><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200529101032.jpg" alt="2020-05-29_094606" style="zoom:80%"><blockquote><p>注意是以命令行参数方式传递，<code>exec()</code>虽然会清空原来的代码段，但是对文件描述符和信号的处理有所不同。</p><p>关于<code>fork()</code>和<code>exec()</code>父子进程对文件描述符和信号的继承问题总结如下：</p><ul><li><p>信号</p><ul><li><p>仅fork时子进程会继承父进程fork之前所设置的信号处理方式。</p></li><li><p>当有exec加载新程序时</p><ul><li>子进程继承的处理方式是忽略或默认处理方式时，exec新程序后设置依然有效。</li><li>如果子进程继承是捕获处理方式时，exec新程序后将被还原为默认处理方式。</li></ul></li></ul></li><li><p>文件描述符</p><p>当你用fork建立一个子进程，父进程的所有内容会被“完完整整”的复制到子进程中。子进程是父进程的一个clone体，除了pid不同，其余一切相同。在fork后父、子进程对于每一个打开的文件描述符共享同一个文件表项，此时可能有多个文件描述符项指向同一文件表项。即使exec也会保留文件描述符，但是有时子进程不需要继承父进程的文件描述符，并且有时在exec后子进程继承下来的文件描述符有的是毫无意义的，Linux使用close_on_exec标志位来实现。当父进程打开文件时，只需要应用程序设置FD_CLOSEXEC标志位，则当fork后exec其他程序的时候，内核自动会将其继承的父进程FD关闭。因此原则上只要你不设置这个标志位，你fork子进程后，exec新程序依然可以用你在父进程或者原来的子进程中打开的文件。</p></li></ul></blockquote><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200529101043.jpg" alt="2020-05-29_094713" style="zoom:80%"> <img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200529102311.jpg" alt="2020-05-29_094803" style="zoom:80%"><h2 id="十五、Socket编程"><a href="#十五、Socket编程" class="headerlink" title="十五、Socket编程"></a>十五、Socket编程</h2><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200603082808.jpg" alt="2020-06-03_081900" style="zoom:80%"><blockquote><ul><li><code>bind</code>设置本地端点名，也可以用在客户端程序，不会阻塞；</li><li><code>listen</code>仅仅是给内核一个通知，开始监听到达的连接请求，不会阻塞；</li><li><code>connect</code>建立连接，设定远端端点名，进程阻塞，直到TCP连接建立（第二次握手）；</li><li><code>accept</code>接受一个连接请求，阻塞等待新连接的到来，直到TCP三次握手结束返回；</li></ul></blockquote><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200603083359.jpg" alt="2020-06-03_082405" style="zoom:80%"> <img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200603083428.jpg" alt="2020-06-03_082415" style="zoom:80%"><blockquote><p>不执行<code>signal(SIGCLD,SIG_ING)</code>会产生僵尸进程。</p></blockquote><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200603083519.jpg" alt="2020-06-03_082433" style="zoom:80%"> <img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200603083527.jpg" alt="2020-06-03_082526" style="zoom:80%"> <img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200603083537.jpg" alt="2020-06-03_082543" style="zoom:80%"> <img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://gitee.com/wxy_666/images/raw/master/20200603083546.jpg" alt="2020-06-03_082554" style="zoom:80%"><details><summary><p>所有的习题：</p></summary><div class="content"><p><a href="/2020/04/28/Linux-MOOC习题-1~5章/">Linux MOOC习题 1~5章</a></p><p><a href="/2020/04/29/Linux-MOOC习题-6~10章/">Linux MOOC习题 6~10章</a></p><p><a href="/2020/05/07/Linux-MOOC习题-11~15章/">Linux MOOC习题 11~15章</a></p></div></details><div class="article_footer"><section class="widget copyright desktop mobile"><div class="content"><blockquote><p>本文为博主「苇名一心」的原创文章</p><p>内容遵循 署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议</p><p>本文永久链接是：<a href="https://666wxy666.github.io/2020/05/07/Linux-MOOC%E4%B9%A0%E9%A2%98-11~15%E7%AB%A0/">https://666wxy666.github.io/2020/05/07/Linux-MOOC%E4%B9%A0%E9%A2%98-11~15%E7%AB%A0/</a></p><p>转载请附上原文出处链接及本声明</p></blockquote></div></section><section class="widget qrcode desktop mobile"><div class="content article-entry"><div class="fancybox"><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://cdn.jsdelivr.net/gh/666WXY666/cdn@master/img/qrcode/weixin.jpg" height="64px"></div><div class="fancybox"><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://cdn.jsdelivr.net/gh/666WXY666/cdn@master/img/qrcode/alipay.jpg" height="64px"></div></div></section></div></div><section class="meta" id="footer-meta"><div class="new-meta-box"><div class="new-meta-item date" itemprop="dateUpdated" datetime="2020-06-14T10:42:06+08:00"><a class="notlink"><i class="fas fa-edit fa-fw" aria-hidden="true"></i><p>更新于：2020年6月14日</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/Linux/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>Linux</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E4%B9%A0%E9%A2%98/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>习题</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E6%98%93%E9%94%99%E7%82%B9/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>易错点</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E7%BD%91%E8%AF%BE/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>网课</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/MOOC/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>MOOC</p></a></div><div class="new-meta-item wordcount"><a class="notlink"><i class="fas fa-keyboard fa-fw" aria-hidden="true"></i><p>字数：3.2k字</p></a></div><div class="new-meta-item readtime"><a class="notlink"><i class="fas fa-hourglass-half fa-fw" aria-hidden="true"></i><p>时长：12分钟</p></a></div><div class="new-meta-item share -mob-share-list"><div class="-mob-share-list share-body"><a class="-mob-share-qq" rel="external nofollow noopener noreferrer" href="http://connect.qq.com/widget/shareqq/index.html?url=https://666wxy666.github.io/2020/05/07/Linux-MOOC%E4%B9%A0%E9%A2%98-11~15%E7%AB%A0/&title=Linux MOOC习题 11~15章 - 苇名一心的博客&summary=自己随便整理了一下在学习Linux网课时遇到的一些习题，易错点之类的，接上文Linux MOOC习题 6~10章。" target="_blank"><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://cdn.jsdelivr.net/gh/666WXY666/cdn@master/img/logo/128/qq.png"> </a><a class="-mob-share-qzone" rel="external nofollow noopener noreferrer" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://666wxy666.github.io/2020/05/07/Linux-MOOC%E4%B9%A0%E9%A2%98-11~15%E7%AB%A0/&title=Linux MOOC习题 11~15章 - 苇名一心的博客&summary=自己随便整理了一下在学习Linux网课时遇到的一些习题，易错点之类的，接上文Linux MOOC习题 6~10章。" target="_blank"><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://cdn.jsdelivr.net/gh/666WXY666/cdn@master/img/logo/128/qzone.png"> </a><a class="-mob-share-weibo" rel="external nofollow noopener noreferrer" href="http://service.weibo.com/share/share.php?url=https://666wxy666.github.io/2020/05/07/Linux-MOOC%E4%B9%A0%E9%A2%98-11~15%E7%AB%A0/&title=Linux MOOC习题 11~15章 - 苇名一心的博客&summary=自己随便整理了一下在学习Linux网课时遇到的一些习题，易错点之类的，接上文Linux MOOC习题 6~10章。" target="_blank"><img src="https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/placeholder/large.svg" data-original="https://cdn.jsdelivr.net/gh/666WXY666/cdn@master/img/logo/128/weibo.png"></a></div></div></div></section><div class="prev-next"><a class="prev" href="/2020/05/07/%E7%8E%B0%E4%BB%A3%E4%BA%A4%E6%8D%A2%E5%8E%9F%E7%90%86-MOOC%E4%B9%A0%E9%A2%98-1~4%E7%AB%A0/"><p class="title"><i class="fas fa-chevron-left" aria-hidden="true"></i>现代交换原理 MOOC习题 1~4章</p><p class="content">自己随便整理了一下在学习“现代交换原理”网课时遇到的一些习题，易错点之类的。第一章 交换概论 都是类似的道理，话音业务需要实时、高可靠、恒定速率，因此电路交换适合，异步显然不适合于话音业务。电路...</p></a><a class="next" href="/2020/04/29/Linux-%E6%8B%93%E5%B1%95%E5%AD%A6%E4%B9%A0/"><p class="title">Linux 拓展学习<i class="fas fa-chevron-right" aria-hidden="true"></i></p><p class="content">简单的写了一些Linux的课外拓展学习的相关知识和问题。一、命令的参数编写一个小程序，可以显示命令的选项和参数1234567891011#include &lt;stdio.h&gt;int m...</p></a></div></section></article><article class="post white-box reveal comments shadow"><section class="article typo"><p ct><i class="fas fa-comments"></i> 评论</p><section id="comments"><div id="valine_container" class="valine_thread"><i class="fas fa-cog fa-spin fa-fw fa-2x"></i></div></section></section></article><script>// https://github.com/theme-next/hexo-theme-next/blob/master/layout/_third-party/math/mathjax.swig
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.0/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    // 文章章节标题不能为 “MathJax” ，否则会报错。
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }</script></div><aside class="l_side"><section class="widget related_posts shadow desktop mobile"><header><i class="fas fa-bookmark fa-fw" aria-hidden="true"></i><span class="name">相关文章</span></header><div class="content"><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="\2020\04\28\Linux-MOOC习题-1~5章\" title="Linux MOOC习题 1~5章" rel="bookmark">Linux MOOC习题 1~5章</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="\2020\04\29\Linux-MOOC习题-6~10章\" title="Linux MOOC习题 6~10章" rel="bookmark">Linux MOOC习题 6~10章</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="\2020\05\18\现代交换原理-MOOC习题-5~6章\" title="现代交换原理 MOOC习题 5~6章" rel="bookmark">现代交换原理 MOOC习题 5~6章</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="\2020\05\07\现代交换原理-MOOC习题-1~4章\" title="现代交换原理 MOOC习题 1~4章" rel="bookmark">现代交换原理 MOOC习题 1~4章</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="\2020\05\07\大数据-习题\" title="大数据 习题" rel="bookmark">大数据 习题</a></h3></div></li></ul></div></section><section class="widget toc-wrapper shadow desktop mobile" id="toc-div"><header><i class="fas fa-list fa-fw" aria-hidden="true"></i><span class="name">本文目录</span></header><div class="content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#十一、进程的基本概念"><span class="toc-text">十一、进程的基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#十二、进程的创建和重定向"><span class="toc-text">十二、进程的创建和重定向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#十三、重定向和管道，信号"><span class="toc-text">十三、重定向和管道，信号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#十四、进程间协作，Socket概述"><span class="toc-text">十四、进程间协作，Socket概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#十五、Socket编程"><span class="toc-text">十五、Socket编程</span></a></li></ol></div></section></aside></div><footer class="clearfix"><br><br><div class="aplayer-container"><meting-js theme="#1BCDFC" autoplay volume="0.7" loop order="list" fixed="false" list-max-height="340px" server="tencent" type="playlist" id="1930654125" list-folded="true"></meting-js></div><br><div class="social-wrapper"><a href="/atom.xml" class="social fas fa-rss flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a> <a href="mailto:1293739194@qq.com" class="social fas fa-envelope flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a> <a href="https://github.com/666WXY666/" class="social fab fa-github flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a> <a href="https://gitee.com/wxy_666" class="social fab fa-git-alt flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a> <a href="https://space.bilibili.com/7429248" class="social fas fa-bold flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a> <a href="https://www.zhihu.com/people/666wxy666" class="social fab fa-zhihu flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a> <a href="https://music.163.com/#/user/home?id=74040689" class="social fas fa-headphones-alt flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a></div><div><p>博客内容遵循 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="external nofollow noopener noreferrer">署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议</a></p></div><div class="copyright"><p><a href="https://666wxy666.github.io/">Copyright © 2020-2020 苇名一心</a></p></div><br><i class="fas fa-clock"></i> <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>var now=new Date;function createtime(){var n=new Date("02/10/2020 17:38:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="本站已成功存活了 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 小时 "+mnum+" 分 "+snum+" 秒"}setInterval("createtime()",250)</script><br><i class="fas fa-user"></i> <span id="busuanzi_container_site_uv">总访客数：<span id="busuanzi_value_site_uv"></span> 人 | </span><i class="fas fa-eye"></i> <span id="busuanzi_container_site_pv">总阅读量：<span id="busuanzi_value_site_pv"></span> 次 | </span><i class="fas fa-chart-area"></i> <span class="post-count">字数统计：55.2k 字</span></footer><a class="s-top fas fa-arrow-up fa-fw" href="javascript:void(0)"></a></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@3.4/dist/jquery.min.js"></script><script>var SEARCH_SERVICE="hexo",ROOT="/";ROOT.endsWith("/")||(ROOT+="/")</script><script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-volantis@2/js/instant_page.js" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script><script src="https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js"></script><script type="text/javascript">$(function(){var t=["https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg","https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/wallpaper/abstract/BBC19066-E176-47C2-9D22-48C81EE5DF6B.jpeg","https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/wallpaper/abstract/35F12181-F0E9-45BD-B134-37E4B4A660CF.jpeg","https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg","https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/wallpaper/abstract/00E0F0ED-9F1C-407A-9AA6-545649D919F4.jpeg","https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/wallpaper/abstract/67239FBB-E15D-4F4F-8EE8-0F1C9F3C4E7C.jpeg","https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/wallpaper/abstract/B951AE18-D431-417F-B3FE-A382403FF21B.jpeg","https://cdn.jsdelivr.net/gh/666WXY666/cdn/img/wallpaper/abstract/2884F904-F1F3-479E-AE27-5EBC291B63B0.jpeg"];!function(t){for(var a=t.length;a--;){var e=Math.floor(Math.random()*a),p=t[e];t[e]=t[a],t[a]=p}}(t),$.backstretch(t,{duration:"20000",fade:"1500"})})</script><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2.0/dist/Meting.min.js"></script><script src="/js/valine.js"></script><script>var GUEST_INFO=["nick","mail","link"],meta="nick,mail,link".split(",").filter(function(i){return-1<GUEST_INFO.indexOf(i)}),REQUIRED_FIELDS=["nick","mail","link"],requiredFields="nick,mail".split(",").filter(function(i){return-1<REQUIRED_FIELDS.indexOf(i)});function emoji(i,e,a){return i+"/"+i+"-"+e+"."+a}for(var emojiMaps={},i=1;i<=54;i++)emojiMaps["tieba-"+i]=emoji("tieba",i,"png");for(i=1;i<=101;i++)emojiMaps["qq-"+i]=emoji("qq",i,"gif");for(i=1;i<=116;i++)emojiMaps["aru-"+i]=emoji("aru",i,"gif");for(i=1;i<=125;i++)emojiMaps["twemoji-"+i]=emoji("twemoji",i,"png");for(i=1;i<=4;i++)emojiMaps["weibo-"+i]=emoji("weibo",i,"png");function pjax_valine(){var i="none"===$.trim($("#valine-path").text())?window.location.pathname:$.trim($("#valine-path").text()),e="none"===$.trim($("#valine-placeholder").text())?"快来评论吧~":$.trim($("#valine-placeholder").text());(new Valine).init({el:"#valine_container",meta:meta,placeholder:e,path:i,appId:"O2XYIOn9EAIKNr5HayEBixXl-MdYXbMMI",appKey:"g1XtDO1m1wHerH2wbn0A08mk",pageSize:"10",avatar:"robohash",lang:"zh-cn",visitor:"true",highlight:"true",mathJax:"false",enableQQ:"true",requiredFields:requiredFields,emojiCDN:"https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/",emojiMaps:emojiMaps})}$(function(){pjax_valine()})</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script><script>function wait(callback, seconds) {
        var timelag = null;
        timelag = window.setTimeout(callback, seconds)
    }

    function pjax_initCopyCode() {
        var copyHtml = '';
        copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
        copyHtml += '<i class="fas fa-copy"></i><span>COPY</span>';
        copyHtml += '</button>';
        $(".highlight .code pre").before(copyHtml);
        $(".article pre code").before(copyHtml);
        var clipboard = new ClipboardJS('.btn-copy', {
            target: function (trigger) {
                return trigger.nextElementSibling
            }
        });
        clipboard.on('success', function (e) {
            let $btn = $(e.trigger);
            $btn.addClass('copied');
            let $icon = $($btn.find('i'));
            $icon.removeClass('fa-copy');
            $icon.addClass('fa-check-circle');
            let $span = $($btn.find('span'));
            $span[0].innerText = 'COPIED';
            wait(function () {
                $icon.removeClass('fa-check-circle');
                $icon.addClass('fa-copy');
                $span[0].innerText = 'COPY'
            }, 2000)
        });
        clipboard.on('error', function (e) {
            e.clearSelection();
            let $btn = $(e.trigger);
            $btn.addClass('copy-failed');
            let $icon = $($btn.find('i'));
            $icon.removeClass('fa-copy');
            $icon.addClass('fa-times-circle');
            let $span = $($btn.find('span'));
            $span[0].innerText = 'COPY FAILED';
            wait(function () {
                $icon.removeClass('fa-times-circle');
                $icon.addClass('fa-copy');
                $span[0].innerText = 'COPY'
            }, 2000)
        })
    }
    $(function () {
        pjax_initCopyCode()
    });</script><script src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.6/dist/scrollreveal.min.js"></script><script type="text/javascript">function pjax_scrollrebeal(){ScrollReveal().reveal(".l_main .reveal",{distance:"32px",duration:"800",interval:"20",scale:"1",easing:"ease-out"})}$(function(){pjax_scrollrebeal()})</script><script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script>function pjax_fancybox(){$(".article-entry").find("img").not(".inline").not("a img").each(function(){var t=document.createElement("a");$(t).attr("pjax-fancybox",""),$(t).attr("href",$(this).attr("src")),$(this).attr("data-original")&&$(t).attr("href",$(this).attr("data-original")),$(t).attr("data-fancybox","images");var a="";$(this).attr("alt")&&($(t).attr("data-caption",$(this).attr("alt")),a=$(this).attr("alt"));var e=document.createElement("div");$(e).addClass("fancybox"),$(this).wrap(e);var i=document.createElement("span");$(i).addClass("image-caption"),$(i).text(a),$(this).after(i),$(this).wrap(t)}),$(".article-entry").find("img").fancybox({selector:'[data-fancybox="images"]',hash:!1,loop:!1,closeClick:!0,helpers:{overlay:{closeClick:!0}},buttons:["zoom","close"]})}$(function(){pjax_fancybox()})</script><script src="https://cdn.jsdelivr.net/gh/666WXY666/cdn@8.9/js/app.js"></script><script src="/js/search.js"></script><script defer src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js" data-pjax></script><script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script><script type="text/javascript">$(function(){Waves.attach(".flat-btn",["waves-button"]),Waves.attach(".float-btn",["waves-button","waves-float"]),Waves.attach(".float-btn-light",["waves-button","waves-float","waves-light"]),Waves.attach(".flat-box",["waves-block"]),Waves.attach(".float-box",["waves-block","waves-float"]),Waves.attach(".waves-image"),Waves.init()})</script><script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-volantis@2/js/comment_typing.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><div class="pjax-animate"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css"><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><div id="loading-bar-wrapper"><script>NProgress.configure({parent:"#loading-bar-wrapper",trickleSpeed:100})</script></div><script>window.ShowLoading=function(){NProgress.start()},window.HideLoading=function(){NProgress.done()}</script></div><script>var pjax;
    document.addEventListener('DOMContentLoaded', function () {
      pjax = new Pjax({
        elements: 'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([pjax-fancybox])',
        selectors: [
          "title",
          "#pjax-container"
        ],
        cacheBust: false,   // url 地址追加时间戳，用以避免浏览器缓存
        timeout: 5000
      });
    });
  
    document.addEventListener('pjax:send', function (e) {
      window.stop(); // 相当于点击了浏览器的停止按钮
      var currentUrl = window.location.pathname;
      var targetUrl = e.triggerElement.href;
      var banUrl = ["/shuoshuo/"];
      if (banUrl[0] != "") {
        banUrl.forEach(item => {
          if(currentUrl.indexOf(item) != -1 || targetUrl.indexOf(item) != -1) {
            window.location.href = targetUrl;
          }
        });
      }
      window.subData = null; // 移除标题（用于一二级导航栏切换处）
      $.fancybox.close();    // 关闭弹窗
      $('.nav-main').find('.list-v').not('.menu-phone').css("display","none"); // 移除小尾巴
      $('.menu-phone.list-v').css("display","none"); // 移除小尾巴
      $('.l_header .switcher .s-search').removeClass('active'); // 关闭移动端激活的搜索框
      $('.l_header').removeClass('z_search-open'); // 关闭移动端激活的搜索框
      $('.wrapper').removeClass('sub'); // 跳转页面时关闭二级导航
      $(window).unbind('resize');    // 解绑
      $(window).unbind('scroll');    // 解绑
      $(window).unbind('click');     // 解绑
      $(document).unbind('scroll');  // 解绑
      window.ShowLoading();
    });
  
    document.addEventListener('pjax:complete', function () {
      // 关于百度统计对 SPA 页面的处理：
      // 方案一：百度统计>管理>单页应用设置中，打开开启按钮即可对SPA进行统计。 https://tongji.baidu.com/web/help/article?id=324
      // 方案二：取消注释下列代码。 https://tongji.baidu.com/web/help/article?id=235
      // 
      // _hmt.push(['_trackPageview', document.location.pathname]);
      // 
  
      // 关于谷歌统计对 SPA 页面的处理：
      // 当应用以动态方式加载内容并更新地址栏中的网址时，也应该更新通过 gtag.js 存储的网页网址。
      // https://developers.google.cn/analytics/devguides/collection/gtagjs/single-page-applications?hl=zh-cn
      
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('config', 'UA-162450234-2', {'page_path': document.location.pathname});
      
      
      $('.nav-main').find('.list-v').not('.menu-phone').removeAttr("style",""); // 移除小尾巴的移除
      $('.menu-phone.list-v').removeAttr("style",""); // 移除小尾巴的移除
      $('script[data-pjax], .pjax-reload script').each(function () {
        $(this).parent().append($(this).remove());
      });
  
      try{
        pjax_fancybox();
        
          
          if ('') {
            $('').backstretch("resize");
          } else {
            $.backstretch("resize");
          }
        
        
          pjax_scrollrebeal();
        
        
          pjax_initCopyCode();
        
        
          pjax_valine();
        
        
        
      } catch (e) {
        console.log(e);
      }
      window.HideLoading();
    });
  
    document.addEventListener('pjax:error', function (e) { 
      window.HideLoading(); 
      window.location.href = e.triggerElement.href; 
    });</script></div><script>!function(e){var c=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){for(var r=0;r<c.length;r++)t=c[r],0<=(n=t.getBoundingClientRect()).bottom&&0<=n.left&&n.top<=(e.innerHeight||document.documentElement.clientHeight)&&function(){var t,n,e,i,o=c[r];t=o,n=function(){c=c.filter(function(t){return o!==t})},e=new Image,i=t.getAttribute("data-original"),e.onload=function(){t.src=i,n&&n()},e.src=i}();var t,n}i(),e.addEventListener("scroll",function(){var t,n;t=i,n=e,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)})}(this);</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script></body></html><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/666WXY666/cdn@master/js/click_show_text.js"></script><canvas class="fireworks" style="position:fixed;left:0;top:0;z-index:1;pointer-events:none"></canvas><script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/666WXY666/cdn@master/js/fireworks.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"><script src="https://cdn.jsdelivr.net/gh/666WXY666/cdn@master/live2d/autoload.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/666WXY666/cdn@master/js/FunnyTitle.js"></script>